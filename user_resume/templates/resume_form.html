<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1 class="mt-5">Resume Builder</h1>
        <form id="resumeForm">
            <h3>Personal Information</h3>
            <div class="mb-3">
                <label for="name" class="form-label">Name</label>
                <input type="text" class="form-control" id="name" name="name" required>
            </div>
            <div class="mb-3">
                <label for="location" class="form-label">Location</label>
                <input type="text" class="form-control" id="location" name="location" required>
            </div>
            <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="email" name="email" required>
            </div>
            <div class="mb-3">
                <label for="phone" class="form-label">Phone</label>
                <input type="tel" class="form-control" id="phone" name="phone" required>
            </div>
            <div class="mb-3">
                <label for="website" class="form-label">Website</label>
                <input type="url" class="form-control" id="website" name="website">
            </div>

            <h3>Social Networks</h3>
            <div id="socialNetworks">
                <div class="mb-3">
                    <label for="network" class="form-label">Network</label>
                    <input type="text" class="form-control" id="network" name="network[]" placeholder="e.g., LinkedIn">
                </div>
                <div class="mb-3">
                    <label for="username" class="form-label">Username</label>
                    <input type="text" class="form-control" id="username" name="username[]">
                </div>
            </div>
            <button type="button" class="btn btn-primary" id="addSocialNetwork">Add Another Social Network</button>

            <h3>Education</h3>
            <div id="educationSection">
                <div class="education-group">
                    <div class="mb-3">
                        <label for="institution" class="form-label">Institution</label>
                        <input type="text" class="form-control" name="institution[]">
                    </div>
                    <div class="mb-3">
                        <label for="area" class="form-label">Area of Study</label>
                        <input type="text" class="form-control" name="area[]">
                    </div>
                    <div class="mb-3">
                        <label for="degree" class="form-label">Degree</label>
                        <input type="text" class="form-control" name="degree[]">
                    </div>
                    <div class="mb-3">
                        <label for="start_date" class="form-label">Start Date</label>
                        <input type="month" class="form-control" name="start_date[]">
                    </div>
                    <div class="mb-3">
                        <label for="end_date" class="form-label">End Date</label>
                        <input type="month" class="form-control" name="end_date[]">
                    </div>
                    <div class="mb-3">
                        <label for="education_highlights" class="form-label">Highlights</label>
                        <input type="text" class="form-control" name="education_highlights[]">
                    </div>
                </div>
            </div>
            <button type="button" class="btn btn-primary" id="addEducation">Add Another Education</button>

            <h3>Experience</h3>
            <div id="experienceSection">
                <div class="experience-group">
                    <div class="mb-3">
                        <label for="company" class="form-label">Company</label>
                        <input type="text" class="form-control" name="company[]">
                    </div>
                    <div class="mb-3">
                        <label for="position" class="form-label">Position</label>
                        <input type="text" class="form-control" name="position[]">
                    </div>
                    <div class="mb-3">
                        <label for="location" class="form-label">Location</label>
                        <input type="text" class="form-control" name="location[]">
                    </div>
                    <div class="mb-3">
                        <label for="start_date" class="form-label">Start Date</label>
                        <input type="month" class="form-control" name="start_date[]">
                    </div>
                    <div class="mb-3">
                        <label for="end_date" class="form-label">End Date</label>
                        <input type="month" class="form-control" name="end_date[]">
                    </div>
                    <div class="mb-3">
                        <label for="experience_highlights" class="form-label">Highlights</label>
                        <input type="text" class="form-control" name="experience_highlights[]">
                    </div>
                </div>
            </div>
            <button type="button" class="btn btn-primary" id="addExperience">Add Another Experience</button>

            <h3>Projects</h3>
            <div id="projectsSection">
                <div class="project-group">
                    <div class="mb-3">
                        <label for="project_name" class="form-label">Project Name</label>
                        <input type="text" class="form-control" name="project_name[]">
                    </div>
                    <div class="mb-3">
                        <label for="project_date" class="form-label">Project Date</label>
                        <input type="text" class="form-control" name="project_date[]">
                    </div>
                    <div class="mb-3">
                        <label for="project_highlights" class="form-label">Project Highlights</label>
                        <input type="text" class="form-control" name="project_highlights[]">
                    </div>
                </div>
            </div>
            <button type="button" class="btn btn-primary" id="addProject">Add Another Project</button>

            <div class="mt-4">
                <button type="submit" class="btn btn-success">Generate CV</button>
            </div>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // JavaScript to add dynamic sections
        document.getElementById('addEducation').addEventListener('click', function () {
            const educationSection = document.querySelector('.education-group').cloneNode(true);
            document.getElementById('educationSection').appendChild(educationSection);
        });

        document.getElementById('addExperience').addEventListener('click', function () {
            const experienceSection = document.querySelector('.experience-group').cloneNode(true);
            document.getElementById('experienceSection').appendChild(experienceSection);
        });

        document.getElementById('addProject').addEventListener('click', function () {
            const projectSection = document.querySelector('.project-group').cloneNode(true);
            document.getElementById('projectsSection').appendChild(projectSection);
        });

        document.getElementById('addSocialNetwork').addEventListener('click', function () {
            const socialSection = document.querySelector('#socialNetworks').cloneNode(true);
            document.getElementById('socialNetworks').appendChild(socialSection);
        });

        document.getElementById('resumeForm').addEventListener('submit', function (e) {
            e.preventDefault();

            const formData = new FormData(e.target);
            const data = {};
            formData.forEach((value, key) => {
                if (!data[key]) {
                    data[key] = [];
                }
                data[key].push(value);
            });

            // Send the data to your backend (Python script)
            fetch('/generate_cv', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data),
            }).then(response => response.json())
              .then(data => {
                  console.log(data);
              });
        });
    </script>
</body>
</html>
